# Wrapper express

This is wrapper for express based app

## Getting started

You need to install this module as a dependency of your nodejs project with any
package manager.

```bash
$ npm install @ducksclan/wrapper-express
```

`or`

```bash
$ yarn add @ducksclan/wrapper-express
```

## Usage

This module allows to quickly create an express application with `helmet`,
`cors`, `cookie-parser` and `express-fingerprint` middlewares. This module also
provides an asynchronous request handler and tagging middleware that allows to
collect ip address and fingerprint hash generated by `express-fingerprint`
module.

```typescript
// app.ts
import { initialization, taggingMiddleware } from '@ducksclan/wrapper-express';

let cookieSecret: string = 'secret';
let app = initialization(cookieSecret);

app.use(taggingMiddleware());

export default app;
```

```typescript
// interfaces.ts

export interface UserLocals extends TaggedLoclas {
  user: User;
}
```

```typescript
// saveUserMiddleware.ts
import { asyncMiddleware } from '@ducksclan/wrapper-express';
import { UserLocals } from './interfaces.ts';

const saveUserMiddleware = asyncMiddleware<any, UserLocals>(
  async (req, res, next) => {
    await repository.save(res.locals.user);
    next();
  }
);

export default saveUserMiddleware;
```

## Links

- [ducks.clan.app@gmail.com](mailto:ducks.clan.app@gmail.com)
- [github repository](https://github.com/ducksclan/wrapper-express)
- [npm package](https://npmjs.com/package/@ducksclan/wrapper-express)
